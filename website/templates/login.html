<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Login{% endblock %}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/logins.css') }}">
</head>

<body style="background: url('{{ url_for('static', filename='img/surf.jpg') }}') center center fixed; background-size: cover; background-repeat: no-repeat; position: fixed; width: 100%; height: 100%; z-index: -1; opacity: 0.90;">

    <div class="container mt-1">
        <h2 class="title2">OutSports</h2>
    </div>

        <section class="text-center text-lg-start">
            <!-- Jumbotron -->
            <section class="container py-0">
                <div class="row g-0 align-items-center justify-content-center">
                      <!-- Add this alert at the end of your body tag in login.html -->
  
                    <div class="col-lg-6 mb-3 mb-lg-0">
                        {% if login_status == 'failure' %}
                        <div class="alert alert-danger d-none" role="alert" id="dangerAlert" display="none">
                            Invalid login credentials. Please try again.
                        </div>
                        {% else%}
                        <div class="alert alert-success d-none" role="alert" id="SuccessAlert" display="none">
                            Valid login credentials.
                        </div>
                        {% endif %}

                        {% if error_message %}
                            <div class="alert alert-danger" role="alert">
                                {{ error_message }}
                            </div>
                        {% endif %}
                        <div class="card cascading-right">
                            <div class="card-body p-5 shadow-4 text-center">
                                <!-- Pills navs -->
                                <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="tab-login" data-bs-toggle="pill" data-bs-target="#pills-login" type="button" role="tab" aria-controls="pills-login" aria-selected="true">Login</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="tab-register" data-bs-toggle="pill" data-bs-target="#pills-register" type="button" role="tab" aria-controls="pills-register" aria-selected="false">Register</button>
                                    </li>
                                </ul>

                                <div class="tab-content" id="pills-tabContent">
                                    <div class="tab-pane show active" id="pills-login" role="tabpanel" aria-labelledby="pills-login">
                                        <form method="POST" action="{{ url_for('auth.login') }}" id="loginForm">
                                            <div class="form-group">
                                              <label for="email">Email Address</label>
                                              <input
                                                type="email"
                                                class="form-control"
                                                id="email"
                                                name="email"
                                                placeholder="Enter email"
                                              />
                                            </div>
                                            <div class="form-group">
                                              <label for="password">Password</label>
                                              <input
                                                type="password"
                                                class="form-control"
                                                id="password"
                                                name="password"
                                                placeholder="Enter password"
                                              />
                                            </div>
                                            <br />
                                            <div class="text-center">
                                                <p>Not a member? <a href="{{ url_for('auth.sign_up') }}" onclick="goToRegister()" id="registerBtn">Register</a></p>
                                            </div> 
                                            <button type="submit" class="btn btn-primary btn-block mb-4">Login</button>
                                          </form>

                                            <!-- 2 column grid layout 
                                            <div class="row mb-4">
                                                <div class="col-md-6 d-flex justify-content-center">

                                                    <div class="form-check mb-3 mb-md-0">
                                                        <input class="form-check-input" type="checkbox" value="" id="loginCheck" checked>
                                                        <label class="form-check-label" for="loginCheck"> Remember me </label>
                                                    </div>
                                                </div>

                                                <div class="col-md-6 d-flex justify-content-center">

                                                    <a href="#!">Forgot password?</a>
                                                </div>
                                            </div> -->


                                            <!-- Register buttons -->

                                            
                                                                                       
                                        </form>
                                    </div>

                                    <div class="tab-pane" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
                                        <form method="POST" action="{{ url_for('auth.sign_up') }}" id="registerForm">
                                            <div class="form-group">
                                              <label for="email">Email Address</label>
                                              <input
                                                type="email"
                                                class="form-control"
                                                id="email"
                                                name="email"
                                                placeholder="Enter email"
                                              />
                                            </div>
                                            <div class="form-group">
                                              <label for="name">Name</label>
                                              <input
                                                type="text"
                                                class="form-control"
                                                id="name"
                                                name="name"
                                                placeholder="Enter name"
                                              />
                                            </div>
                                            <div class="form-group">
                                              <label for="password1">Password</label>
                                              <input
                                                type="password"
                                                class="form-control"
                                                id="password1"
                                                name="password1"
                                                placeholder="Enter password"
                                              />
                                            </div>
                                            <div class="form-group">
                                              <label for="password2">Password (Confirm)</label>
                                              <input
                                                type="password"
                                                class="form-control"
                                                id="password2"
                                                name="password2"
                                                placeholder="Confirm password"
                                              />
                                            </div>
                                            <!-- Checkbox -->
                                            <div class="form-check mb-4">
                                                <input class="form-check-input" type="checkbox" value="" id="loginCheck" checked>
                                                <label class="form-check-label" for="loginCheck"> I have read and agree to the terms </label>
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-block mb-4">Sign up</button>
                                        </form>
                           
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Jumbotron -->
        </section>

    <div class="container">{% block content %} {% endblock %}</div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/2581def8d6.js" crossorigin="anonymous"></script>
    <script  href="{{ url_for('static', filename='js/script.js') }}" defer></script>

    <script>
        function goToRegister() {
            // Activate the registration tab
            event.preventDefault();
            $('#pills-tabContent a[href="#pills-register"]').tab('show');
        }
        $(document).ready(function () {
            {% if login_status == 'success' %}
                $('#SuccessAlert').removeClass('d-none');
            {% elif login_status == 'failure' %}
                $('#dangerAlert').removeClass('d-none');
            {% endif %}
    
            $('#goToHomePageBtn').on('click', function () {
                window.location.href = "{{ url_for('views.home') }}";
            });

            $('#registerBtn').on('click', function () {
                // Activate the registration tab
                $('#pills-tabContent a[href="#pills-register"]').tab('show');
            });
        });
    </script>
    
    

    <div class="modal fade" id="welcomeModal" tabindex="-1" role="dialog" aria-labelledby="welcomeModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="welcomeModalLabel">Welcome, {{ username }}</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="goToHomePageBtn">Go To Home Page</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>